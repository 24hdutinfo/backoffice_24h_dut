{% extends "admin_layout.html.twig" %}

{% block main_admin_content %}

    <!-- Content Header (Page header) -->
    <section class="content-header">
        <h1>
            Administration de l'application 24h DUT
            <small>gestion des utilisateurs</small>
        </h1>
        <ol class="breadcrumb">
            <li><i class="fa fa-dashboard"></i> Level</li>
            <li class="active">{{ user.user_level == 10 ? 'ADMIN' : 'NINJA' }}</li>
        </ol>
    </section>

    <!-- Main content -->
    <section class="content container-fluid">



        <div class="box box-info">
            <div class="box-header with-border">
                <h3 class="box-title">Saisir le nouvel utilisateur dans le formulaire : </h3>
            </div>
            <div class="box-body">

                {% if errors %}
                    <div class="alert alert-danger">
                        <p><strong>Des erreurs dans la saisie des données ont été détectées.</strong> Merci de corriger :</p>

                        <hr>
                        <ul>
                            {% for  messages in errors %}
                                {% for message in messages %}
                                    <li> {{ message }}</li>
                                {% endfor %}
                            {%  endfor %}
                        </ul>
                    </div>
                {% endif %}

                {% if m %}
                    <div class="alert alert-success">
                        <p>{{ m }}</p>
                    </div>

                {% endif %}


            <form class="form-horizontal" role="form"
                  method="post" enctype="multipart/form-data" action="{{ path_for('create_user') }}">

                <input type="hidden" name="{{ csrf.keyname }}" value="{{ csrf.name }}">
                <input type="hidden" name="{{ csrf.keyval }}" value="{{ csrf.value }}">

                <div class="box-body">

                    <div class="form-group">
                        <label for="auform_email" class="col-sm-2 control-label">email :</label>
                        <input class="col-sm-8" type="email" id="auform_email"
                               name="auform_email" required placeholder="email"
                               value="{{ v.auform_email }}">
                    </div>

                    <div class="form-group">
                        <label for="auform_nom" class="col-sm-2 control-label">nom :</label>
                        <input class="col-sm-8" type="text" id="auform_nom"
                               name="auform_nom" required placeholder="nom"
                               value="{{ v.auform_nom }}">
                    </div>

                    <div class="form-group">
                        <label for="auform_pass" class="col-sm-2 control-label">mot de passe :</label>
                        <input class="col-sm-8" type="password" id="auform_pass"
                               name="auform_pass" required minlength="8" placeholder="password"
                               value="{{ v.auform_pass }}">
                    </div>


                    <button type="submit" class="btn btn-primary">valider</button>

                </div>
            </form>

            </div>





        </div> <!-- box -->





    </section>


{% endblock %}